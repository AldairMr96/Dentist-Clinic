package com.company.bazar.controller;import com.company.bazar.dto.CreateSaleDTO;import com.company.bazar.dto.MaxSaleDTO;import com.company.bazar.dto.SaleDTO;import com.company.bazar.model.Product;import com.company.bazar.model.Sale;import com.company.bazar.model.SaleProduct;import com.company.bazar.service.ISaleService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.format.annotation.DateTimeFormat;import org.springframework.http.HttpStatus;import org.springframework.web.bind.annotation.DeleteMapping;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.PutMapping;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.bind.annotation.ResponseStatus;import org.springframework.web.bind.annotation.RestController;import java.time.LocalDate;import java.util.Date;import java.util.List;@RestController@RequestMapping("/bazar/sale")public class  SaleController {  @Autowired  private ISaleService saleService;    @PostMapping("/create")    @ResponseStatus (HttpStatus.CREATED)    public Sale createSale (@RequestBody CreateSaleDTO sale ){        saleService.createSale(sale);        return null;    }    @GetMapping("/get")    @ResponseStatus(HttpStatus.OK)    public List<Sale> getSales (){        List<Sale> saleList = saleService.getSales();        return  saleList;    }    @PutMapping("/edit")    @ResponseStatus (HttpStatus.OK)    public Sale editSale (@RequestBody CreateSaleDTO sale){        saleService.editSale(sale);        return null;    }    @DeleteMapping("/delete")    @ResponseStatus(HttpStatus.OK)    public String deleteSale (Long codSale){        saleService.deleteSale(codSale);        return "removed sale";    }    @GetMapping("/find/products/sale")    @ResponseStatus(HttpStatus.OK)    public List<String> findProductSale (@RequestParam Long codSale){        return  saleService.findProductSale(codSale);    }    @GetMapping("/find/total/sale")    @ResponseStatus(HttpStatus.OK)    //La anotaci√≥n @DateTimeFormat(pattern = "yyyy-MM-dd") indica que el formato de fecha esperado es yyyy-MM-dd    public SaleDTO findTotalSale (@RequestParam @DateTimeFormat(pattern = "yyyy-MM-dd") LocalDate dateSale){        return  saleService.totalSale(dateSale);    }    @GetMapping("/find/max/sale")    @ResponseStatus(HttpStatus.OK)   public MaxSaleDTO findMaxSale (){        return saleService.saleMajor();    }}